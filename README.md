# 智能缺陷分析系统

## 系统概述

智能缺陷分析系统是一个基于大语言模型（LLM）和向量检索的自动化缺陷分析工具。系统能够智能分析软件缺陷描述，并根据历史案例数据，对缺陷进行评分分类、严重等级判定、缺陷类型识别、场景分析和引入阶段判断。

### 核心功能

- 智能缺陷分析：基于DeepSeek大语言模型进行缺陷特征分析
- 相似案例检索：使用FAISS向量数据库实现高效的相似案例检索
- 批量处理能力：支持Excel文件批量导入缺陷数据进行分析
- 多维度分析：包含评分分类、严重等级、缺陷类型、缺陷场景和引入阶段等多个维度
- 缓存机制：支持向量检索结果缓存，提高分析效率
- 日志记录：详细的日志记录，便于问题排查
- 进度显示：批量处理时显示进度条，提供更好的用户体验

## 技术架构

### 核心组件

- LLM服务：使用DeepSeek Reasoner模型进行智能分析
- 向量检索：基于FAISS实现高效的相似案例检索
- 文本向量化：采用text2vec-base-chinese模型进行文本向量化
- 知识库管理：使用JSON格式存储和管理历史缺陷案例

### 数据流程

1. 数据输入：读取Excel文件中的缺陷描述
2. 向量检索：基于FAISS检索相似历史案例
3. 智能分析：结合历史案例，使用LLM进行多维度分析
4. 结果输出：将分析结果保存至Excel文件

## 部署指南

### 环境要求

- Python 3.9+
- 依赖包：
  - langchain
  - pandas
  - faiss-cpu
  - transformers
  - openpyxl

### 安装步骤

1. 克隆项目代码
2. 安装依赖包：
   ```bash
   pip install -r requirements.txt
   ```
3. 配置API密钥：
   在`app.py`中配置DeepSeek API密钥

### 运行说明

1. 准备输入数据：
   - 将待分析的缺陷数据保存为Excel文件
   - Excel文件必须包含"缺陷描述"列
   - 可选包含"缺陷标题"和"评分分类